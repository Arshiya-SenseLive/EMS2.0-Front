<div class=" container-fluid">

 
  <!-- Header -->
<div class="row align-items-center mb-4 dashboard-header">
  <!-- Left: Greeting -->
  <div class="col-12 col-md-6">
    <div class="header-left">
      <h3 class="m-0">Hello, {{ userName }}!</h3>
      <p class="m-0">Track your devices and efficiency in real time âš¡</p>
    </div>
  </div>

  <!-- Right: Actions -->
  <div class="col-12 col-md-6 mt-3 mt-md-0">
    <div class="header-actions justify-content-md-end">
      <button class="icon-btn" aria-label="Notifications">
        <mat-icon>notifications</mat-icon>
        <span class="notify-dot" aria-hidden="true"></span>
      </button>
      <button class="icon-btn" aria-label="Settings">
        <mat-icon>settings</mat-icon>
      </button>
    </div>
  </div>
</div>


  <!-- Filters -->
 <!-- FILTER CARD -->
<div class="filter-card card shadow-sm mb-4">
  <div class="card-body">
    <div class="row g-3 align-items-end">

      <!-- Filter Type -->
      <div class="col-12 col-sm-6 col-md-3">
        <label class="form-label">Filter Type</label>
        <app-select
          [(ngModel)]="filter.type"
          [items]="filterTypeOptions"
          displayKey="label"
          valueKey="value"
          placeholder="Select filter type"
          (selectionChange)="onFilterTypeChange($event)">
        </app-select>
      </div>

      <!-- Device / Group (dynamic by type) -->
      <div class="col-12 col-sm-6 col-md-3" *ngIf="filter.type === 'device'">
        <label class="form-label">Select Device</label>
        <app-select
          [(ngModel)]="filter.deviceId"
          [items]="deviceOptions"
          displayKey="name"
          valueKey="id"
          placeholder="Choose a device"
          (selectionChange)="onDeviceChange($event)">
        </app-select>
      </div>

      <div class="col-12 col-sm-6 col-md-3" *ngIf="filter.type === 'group'">
        <label class="form-label">Select Group</label>
        <app-select
          [(ngModel)]="filter.groupId"
          [items]="groupOptions"
          displayKey="name"
          valueKey="id"
          placeholder="Choose a group"
          (selectionChange)="onGroupChange($event)">
        </app-select>
      </div>

      <!-- Data Mode -->
      <div class="col-12 col-sm-6 col-md-3">
        <label class="form-label">Data Mode</label>
        <app-select
          [(ngModel)]="filter.mode"
          [items]="dataModeOptions"
          displayKey="label"
          valueKey="value"
          placeholder="Select mode"
          (selectionChange)="onModeChange($event)">
        </app-select>
      </div>

      <!-- Time Period -->
      <div class="col-12 col-sm-6 col-md-2">
        <label class="form-label">Time Period</label>
        <app-select
          [(ngModel)]="filter.period"
          [items]="timePeriodOptions"
          displayKey="label"
          valueKey="value"
          placeholder="Select period"
          (selectionChange)="onPeriodChange($event)">
        </app-select>
      </div>

      <!-- Apply Button (right aligned on md+, full width on mobile) -->
      <div class="col-12 col-md-1 d-grid d-md-flex justify-content-md-end">
        <button class="btn btn-success apply-btn" (click)="applyFilters()">
          Apply
        </button>
      </div>
    </div>
  </div>
</div>


  <!-- Cards -->
  <div class="row g-3">
    <div class="col-12 col-sm-6 col-lg-3">
      <div class="card text-center p-3">
        <span class="card-title">KVA</span>
        <h3>1,245.6 <small>kVA</small></h3>
        <p>Apparent Power</p>
      </div>
    </div>

    <div class="col-12 col-sm-6 col-lg-3">
      <div class="card text-center p-3">
        <span class="card-title">KWH</span>
        <h3>8,932.4 <small>kWh</small></h3>
        <p>Energy Consumption</p>
      </div>
    </div>

    <div class="col-12 col-sm-6 col-lg-3">
      <div class="card text-center p-3">
        <span class="card-title">KVAR</span>
        <h3>342.1 <small>kVAR</small></h3>
        <p>Reactive Power</p>
      </div>
    </div>

    <div class="col-12 col-sm-6 col-lg-3">
      <div class="card text-center p-3">
        <span class="card-title">PF</span>
        <h3>0.92</h3>
        <p>Power Factor</p>
      </div>
    </div>
  </div>

</div>
